<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>View Counter</title>
</head>
<body>

<script>

const SHEET_URL = "https://script.google.com/macros/s/AKfycbxLo1IKqEVNoXBCjUk3GbmJPh0EPwAlA7CzuhUhhO_Ktqmm8Sf0XUXyM8tA7JZU0aAUcQ/exec"; 
const videoID = new URLSearchParams(window.location.search).get("id");

if (!videoID) {
    document.write("Missing video ID");
} else {
    fetch(`${SHEET_URL}?id=${videoID}`)
        .then(r => r.text())
        .then(count => {
            document.body.innerHTML = `<div style='font-size:20px;'>Views: ${count}</div>`;
        })
        .catch(err => {
            document.body.innerHTML = "Error loading view count.";
            console.error(err);
        });
}
</script>

</body>
</html>
